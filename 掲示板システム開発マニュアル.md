# 掲示板システム開発完全マニュアル

## 📚 概要
このマニュアルは、AI（Claude Code）を活用してNext.js 15による掲示板システムを開発し、本番環境にデプロイするまでの完全ガイドです。

## 🎯 最終目標
- MongoDB Atlasと連携した掲示板アプリケーション
- CRUD機能（作成・読取・更新・削除）完備
- Vercelでの本番環境公開
- カスタムドメイン設定
- 自動テスト実装

## 🛠 使用技術スタック

### フロントエンド
- **Next.js 15**: Reactベースのフレームワーク
- **TypeScript**: 型安全な開発
- **Material UI**: UIコンポーネントライブラリ
- **Tailwind CSS**: ユーティリティファーストCSS

### バックエンド・データベース
- **MongoDB Atlas**: クラウドデータベース
- **Mongoose**: MongoDBのODM

### 開発環境・ツール
- **Cursor**: AI搭載コードエディタ
- **Claude Code**: AI開発アシスタント
- **GitHub**: バージョン管理
- **Vercel**: ホスティング・CI/CD

### テスト
- **Jest**: 単体テスト
- **Playwright**: E2Eテスト

---

## 📋 開発フロー全体像

```
フェーズ1: 環境構築 (Steps 1-6)
    ↓
フェーズ2: AI駆動開発 (Steps 7-10)
    ↓
フェーズ3: 開発・テスト (Steps 11-18)
    ↓
フェーズ4: 本番デプロイ (Steps 19-23)
```

---

## 🚀 フェーズ1: 環境構築 (Steps 1-6)

### Step 1: GitHubアカウント作成
**目的**: バージョン管理の基盤構築

**実施内容**:
1. https://github.com でアカウント作成
2. メールアドレス、パスワード、ユーザー名設定
3. メール認証完了

**確認ポイント**:
- GitHubにログイン可能
- プロフィールページアクセス可能

---

### Step 2: Cursor × GitHub連携
**目的**: AI搭載エディタの環境構築

**実施内容**:
1. Cursor公式サイトからインストール
2. GitHubアカウントと連携
3. AI機能の有効化

**AIプロンプト例**:
```
「CursorとGitHubの連携設定を確認してください。
コミットに必要な設定も含めて教えてください。」
```

---

### Step 3: プロジェクトフォルダ作成
**目的**: 開発環境の整理

**実施内容**:
1. 専用フォルダ作成（例: `my-board-app`）
2. 適切な命名規則の適用
3. フォルダ構造の初期化

**推奨フォルダ構造**:
```
my-board-app/
├── src/
├── public/
├── tests/
└── docs/
```

---

### Step 4: Cursorでフォルダを開く
**目的**: 開発環境の起動

**実施内容**:
1. Cursorでプロジェクトフォルダを開く
2. ワークスペース設定
3. 拡張機能の確認

---

### Step 5: Next.jsプロジェクト構築
**目的**: アプリケーション基盤の構築

**AIプロンプト**:
```
「Next.js 15で掲示板プロジェクトを作成してください。
TypeScript、Tailwind CSS、App Router使用。
最適な設定を含めてください。」
```

**実行コマンド**:
```bash
npx create-next-app@15 . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --yes
```

**生成される構造**:
```
src/
└── app/
    ├── layout.tsx    # 共通レイアウト
    ├── page.tsx      # トップページ
    └── globals.css   # グローバルスタイル
```

---

### Step 6: GitHub初回プッシュ
**目的**: バージョン管理開始

**実行コマンド**:
```bash
git init
git add .
git commit -m "Initial commit: Next.js 15 project setup"
git branch -M main
git remote add origin [GitHub URL]
git push -u origin main
```

---

## 💡 フェーズ2: AI駆動開発 (Steps 7-10)

### Step 7: Claude Code起動
**目的**: AI開発アシスタント活用開始

**効果的なプロンプト戦略**:
1. **具体的な要件提示**
2. **段階的な実装依頼**
3. **エラー内容の明確な共有**

---

### Step 8: AI設計・実装
**目的**: 掲示板システムの中核機能実装

**AIプロンプト**:
```
「掲示板システムを実装してください。
必要な機能：
1. 投稿の作成（タイトル、本文、投稿者名）
2. 投稿一覧表示
3. 投稿の編集
4. 投稿の削除
5. Material UIでの見た目改善
MongoDBとの連携も含めてください。」
```

**実装される機能**:
- **Create**: 新規投稿作成
- **Read**: 投稿一覧・詳細表示
- **Update**: 投稿編集
- **Delete**: 投稿削除

---

### Step 9: MongoDB Atlas設定
**目的**: データベース環境構築

**設定手順**:
1. MongoDB Atlasアカウント作成
2. 無料クラスター作成
3. データベース作成（例: `boardDB`）
4. 接続文字列取得

**AIプロンプト**:
```
「MongoDB Atlasの接続設定を実装してください。
環境変数での安全な管理方法も含めて。」
```

---

### Step 10: 環境変数設定
**目的**: セキュアな設定管理

**.env.local作成**:
```env
MONGODB_URI=mongodb+srv://[username]:[password]@cluster.mongodb.net/boardDB?retryWrites=true&w=majority
NEXTAUTH_SECRET=[ランダム文字列]
NEXTAUTH_URL=http://localhost:3000
```

**セキュリティポイント**:
- `.gitignore`に`.env.local`追加
- 本番環境では環境変数を別途設定

---

## 🔧 フェーズ3: 開発・テスト (Steps 11-18)

### Step 11: パッケージインストール
**目的**: 必要な依存関係の追加

**実行コマンド**:
```bash
# MongoDB関連
npm install mongodb mongoose

# Material UI
npm install @mui/material @emotion/react @emotion/styled

# その他必要なパッケージ
npm install axios date-fns
```

---

### Step 12: 開発サーバー起動
**目的**: ローカル開発環境での動作確認

```bash
npm run dev
```

**確認URL**: http://localhost:3000

---

### Step 13: コンパイルエラー修正
**目的**: TypeScriptエラーの解決

**AIプロンプト**:
```
「以下のTypeScriptエラーを修正してください：
[エラーメッセージをコピペ]」
```

**一般的なエラー対処**:
- 型定義の追加
- インポートパスの修正
- 依存関係の確認

---

### Step 14: 表示確認
**目的**: UI/UXの動作検証

**確認項目**:
- [ ] ページ遷移の正常動作
- [ ] レスポンシブデザイン
- [ ] Material UIコンポーネント表示
- [ ] エラー画面の適切な表示

---

### Step 15: CRUD機能テスト
**目的**: 中核機能の完全性確認

**テストシナリオ**:
1. **Create**: 新規投稿作成→DB保存確認
2. **Read**: 一覧表示→全投稿表示確認
3. **Update**: 投稿編集→変更反映確認
4. **Delete**: 投稿削除→DB削除確認

---

### Step 16: 課題修正
**目的**: 品質向上

**修正項目例**:
- バリデーション追加
- エラーハンドリング強化
- パフォーマンス最適化
- UIの改善

---

### Step 17: ドキュメント生成
**目的**: 技術文書の自動生成

**AIプロンプト**:
```
「掲示板システムの技術ドキュメントを生成してください：
1. システム要件定義書
2. API仕様書
3. データベース設計書
4. 運用マニュアル」
```

---

### Step 18: 自動テスト実装
**目的**: 品質保証の自動化

**Jest設定**:
```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom
```

**Playwright設定**:
```bash
npm install --save-dev @playwright/test
```

**テストカバレッジ目標**: 70%以上

---

## 🌐 フェーズ4: 本番デプロイ (Steps 19-23)

### Step 19: 本番ビルド作成
**目的**: 最適化されたビルドの生成

```bash
npm run build
```

**最適化項目**:
- コード分割
- 画像最適化
- CSS最小化
- JavaScript圧縮

---

### Step 20: GitHubメインブランチプッシュ
**目的**: 本番コードの保存

```bash
git add .
git commit -m "Production ready: Complete board system"
git push origin main
```

---

### Step 21: Vercelデプロイ
**目的**: クラウド環境への展開

**手順**:
1. https://vercel.com でアカウント作成
2. GitHubリポジトリ連携
3. 環境変数設定
4. デプロイ実行

**環境変数設定**:
- `MONGODB_URI`
- `NEXTAUTH_SECRET`
- その他必要な変数

---

### Step 22: 本番環境テスト
**目的**: 品質保証

**Lighthouseスコア目標**:
- Performance: 70+
- Accessibility: 90+
- Best Practices: 90+
- SEO: 90+

**テスト項目**:
- [ ] 全機能の動作確認
- [ ] レスポンシブデザイン
- [ ] クロスブラウザ対応
- [ ] 負荷テスト

---

### Step 23: カスタムドメイン設定
**目的**: プロフェッショナルな公開

**手順**:
1. ドメイン取得（さくらのドメイン等）
2. Vercelでドメイン追加
3. DNS設定
4. SSL証明書自動設定

---

## 📊 プロジェクト完成時のディレクトリ構造

```
my-board-app/
├── src/
│   ├── app/
│   │   ├── api/           # APIルート
│   │   │   └── posts/     # 投稿API
│   │   ├── posts/         # 投稿関連ページ
│   │   │   ├── [id]/      # 個別投稿
│   │   │   └── new/       # 新規投稿
│   │   ├── layout.tsx     # レイアウト
│   │   └── page.tsx       # トップページ
│   ├── components/        # 再利用可能コンポーネント
│   │   ├── PostCard.tsx   # 投稿カード
│   │   ├── PostForm.tsx   # 投稿フォーム
│   │   └── Layout.tsx     # 共通レイアウト
│   ├── lib/              # ユーティリティ
│   │   ├── mongodb.ts     # DB接続
│   │   └── utils.ts       # ヘルパー関数
│   └── types/            # 型定義
│       └── post.ts        # 投稿型定義
├── public/               # 静的ファイル
├── tests/                # テストファイル
│   ├── unit/            # 単体テスト
│   └── e2e/             # E2Eテスト
├── .env.local           # 環境変数
├── package.json         # 依存関係
├── tsconfig.json        # TypeScript設定
├── next.config.js       # Next.js設定
└── README.md            # プロジェクト説明
```

---

## 🎓 学習成果

### 習得スキル
- **モダンWeb開発**: Next.js, TypeScript, React
- **データベース管理**: MongoDB Atlas
- **AI協働開発**: Claude Code活用
- **テスト駆動開発**: Jest, Playwright
- **CI/CD**: GitHub Actions, Vercel
- **プロジェクト管理**: Git, GitHub

### プロフェッショナルスキル
- 要件定義から実装まで
- コード品質管理
- パフォーマンス最適化
- セキュリティ考慮
- ドキュメント作成

---

## 🔍 トラブルシューティング

### よくある問題と解決策

**1. MongoDBに接続できない**
```
解決策:
- IPアドレスのホワイトリスト確認
- 接続文字列の確認
- ネットワーク設定確認
```

**2. Vercelデプロイエラー**
```
解決策:
- ビルドログ確認
- 環境変数設定確認
- package.jsonスクリプト確認
```

**3. TypeScriptエラー**
```
解決策:
- 型定義ファイル追加
- tsconfig.json設定確認
- @typesパッケージインストール
```

---

## 📝 チェックリスト

### 開発完了確認
- [ ] GitHub連携完了
- [ ] Next.jsプロジェクト作成
- [ ] MongoDB Atlas接続
- [ ] CRUD機能実装
- [ ] Material UI統合
- [ ] テスト実装（カバレッジ70%+）
- [ ] ドキュメント作成
- [ ] 本番ビルド成功
- [ ] Vercelデプロイ
- [ ] カスタムドメイン設定

---

## 🚀 次のステップ

このマニュアル完了後の発展的な学習:
1. **認証機能追加**: NextAuth.js実装
2. **リアルタイム機能**: WebSocket/Pusher統合
3. **画像アップロード**: AWS S3/Cloudinary連携
4. **検索機能**: Elasticsearch統合
5. **国際化対応**: next-i18next実装

---

## 📚 参考資料

- [Next.js公式ドキュメント](https://nextjs.org/docs)
- [MongoDB Atlas公式](https://www.mongodb.com/atlas)
- [Vercel公式](https://vercel.com/docs)
- [Material UI公式](https://mui.com)
- [TypeScript公式](https://www.typescriptlang.org/docs)

---

*このマニュアルはAI支援により作成され、継続的に更新されます。*